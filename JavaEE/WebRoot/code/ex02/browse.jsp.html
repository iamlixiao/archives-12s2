<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="Generator" content="Kate, the KDE Advanced Text Editor" />
<title>browse.jsp</title>
</head>
<body>
<pre style='color:#1f1c1b;background-color:#ffffff;'>
&lt;<span style='color:#006e28;'>?xml version</span>=<span style='color:#0057ae;'>&quot;1.0&quot;</span><span style='color:#006e28;'> encoding</span>=<span style='color:#0057ae;'>&quot;GBK&quot;</span><span style='color:#006e28;'> ?</span>&gt;
<b><i><span style='color:#0000ff;'>&lt;%@ page</span></i></b><span style='color:#006e28;'> language</span>=<span style='color:#bf0303;'>&quot;java&quot;</span><span style='color:#006e28;'> contentType</span>=<span style='color:#bf0303;'>&quot;text/html; charset=GBK&quot;</span>
<span style='color:#006e28;'>	pageEncoding</span>=<span style='color:#bf0303;'>&quot;GBK&quot;</span><b><i><span style='color:#0000ff;'>%&gt;</span></i></b>
<b><i><span style='color:#0000ff;'>&lt;%@page</span></i></b><span style='color:#006e28;'> import</span>=<span style='color:#bf0303;'>&quot;java.util.HashMap&quot;</span><b><i><span style='color:#0000ff;'>%&gt;</span></i></b>
<b><i><span style='color:#0000ff;'>&lt;jsp:useBean</span></i></b><span style='color:#006e28;'> id</span>=<span style='color:#bf0303;'>&quot;data&quot;</span><span style='color:#006e28;'> class</span>=<span style='color:#bf0303;'>&quot;mall.GoodsData&quot;</span><b><i><span style='color:#0000ff;'> /&gt;</span></i></b>
<b><span style='color:#000000;'>&lt;%</span></b>
	<b><span style='color:#0095ff;'>String</span></b>[] bought = request.getParameterValues(<span style='color:#bf0303;'>&quot;goods&quot;</span>);
	<b>if</b> (bought != <b>null</b>) {
		<b><span style='color:#0095ff;'>Integer</span></b>[] troll = (<b><span style='color:#0095ff;'>Integer</span></b>[]) session.getAttribute(<span style='color:#bf0303;'>&quot;goods&quot;</span>);
		<b>if</b> (troll == <b>null</b>) {
			troll = <b>new</b> <b><span style='color:#0095ff;'>Integer</span></b>[data.getItems().length];
			<b>for</b> (<span style='color:#0057ae;'>int</span> i = <span style='color:#b08000;'>0</span>; i &lt; data.getItems().length; ++i)
				troll[i] = <span style='color:#b08000;'>0</span>;
		}
		<b>for</b> (<span style='color:#0057ae;'>int</span> i = <span style='color:#b08000;'>0</span>; i &lt; bought.length; ++i) {
			troll[<b><span style='color:#0095ff;'>Integer</span></b>.parseInt(bought[i])]++;
		}
		session.setAttribute(<span style='color:#bf0303;'>&quot;goods&quot;</span>, troll);
	}
<b><span style='color:#000000;'>%&gt;</span></b>
&lt;<span style='color:#006e28;'>!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;
&lt;html<span style='color:#006e28;'> xmlns</span>=<span style='color:#0057ae;'>&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;
&lt;head&gt;
&lt;meta<span style='color:#006e28;'> http-equiv</span>=<span style='color:#0057ae;'>&quot;Content-Type&quot;</span><span style='color:#006e28;'> content</span>=<span style='color:#0057ae;'>&quot;text/html; charset=GBK&quot;</span><span style='color:#006e28;'> </span>/&gt;
&lt;title&gt;李霄商城&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;form<span style='color:#006e28;'> method</span>=<span style='color:#0057ae;'>&quot;post&quot;</span><span style='color:#006e28;'> action</span>=<span style='color:#0057ae;'>&quot;browse.jsp&quot;</span>&gt;
		&lt;div&gt;请选购&lt;/div&gt;
		&lt;br<span style='color:#006e28;'> </span>/&gt; &lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>0 </span><span style='color:#006e28;'>name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span>&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>0</span>]<b><span style='color:#000000;'>%&gt;</span></b>&lt;/input&gt;
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;1&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>1</span>]<b><span style='color:#000000;'>%&gt;</span></b>
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;2&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>2</span>]<b><span style='color:#000000;'>%&gt;</span></b>
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;3&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>3</span>]<b><span style='color:#000000;'>%&gt;</span></b>
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;4&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>4</span>]<b><span style='color:#000000;'>%&gt;</span></b>
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;5&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>5</span>]<b><span style='color:#000000;'>%&gt;</span></b>
		&lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;checkbox&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;6&quot;</span><span style='color:#006e28;'> name</span>=<span style='color:#0057ae;'>&quot;goods&quot;</span><span style='color:#006e28;'> </span>/&gt;<b><span style='color:#000000;'>&lt;%=</span></b>data.getItems()[<span style='color:#b08000;'>6</span>]<b><span style='color:#000000;'>%&gt;</span></b>&lt;br<span style='color:#006e28;'> </span>/&gt;
		&lt;br<span style='color:#006e28;'> </span>/&gt; &lt;input<span style='color:#006e28;'> type</span>=<span style='color:#0057ae;'>&quot;submit&quot;</span><span style='color:#006e28;'> value</span>=<span style='color:#0057ae;'>&quot;买了&quot;</span><span style='color:#006e28;'> </span>/&gt;
	&lt;/form&gt;
	&lt;a<span style='color:#006e28;'> href</span>=<span style='color:#0057ae;'>&quot;goods.jsp&quot;</span>&gt;购物车&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</body>
</html>
